-----------------------------------------------------------------------------------------------------------
-- Разработка XXDOO_BK  API Organizers
--  Публикация: 
--
-- Установка расширения:
-- 1. Скопировать файлы на сервер;
-- 2. Выставить переменные окружения (например, EVDAY)
-- 3. Запустить в текущей папке installext
-- 4. Проверить протоколы на наличие ошибок.
-- 
-- MODIFICATION HISTORY

-- Person            Date         Version   Comments
-- ------------      ----------   --------  ------------------------------------------------------------------
-- Zhuravov          14.05.2015             Исправил последовательность вывода страниц в регионе.
-- Zhuravov          14.05.2015             Developer, changes:
--                                            Zhuravov 14.05.2015 Добавил хранение парсера пути в экземпляре объекта book. Исправил разбор пути и формирование ответа.
-- Zhuravov          29.04.2015   1.2.0     Release, changes:
--                                            Zhuravov 30.04.2015 Добавил новую точку входа сервиса (под PROXY). Унифицировал конструктор answer. Переписал шлюз для входа со старой и новой точки входа.
-- Zhuravov          29.04.2015   1.1.1     Release, changes: add created service scheme BOOK
-- Zhuravov          29.04.2015   1.1.0     Release, changes:
--                                            Zhuravov 28.04.2015 Добавил context в answer, переделал вызов API выполнения методов get_html              
--                                            Zhuravov 28.04.2015 Переделал toolbar layout'а под DSL Toolbar. Удалил объекты toolbar и layout из XXDOO_BK
--                                            Zhuravov 28.04.2015 Переписал запуск функций формирования HTML под context                                 
-- Zhuravov          22.04.2015   1.0.1     Release: Исправил вызов загрузки объекта по inputs
-- Zhuravov          22.04.2015   1.0.0     Release
--------------------------------------------------------------------------------------------------------------
-- MODIFICATION HISTORY (old)
-- Person         Date         Comments
-- ---------      ------       ------------------------------------------
-- Журавов В.Б.   13.07.2014   Базовая версия 
--                               Скрипты сгенерированы API DB Wrapper. См. others\create_scheme\
--                16.08.2014   Версия 0.1.0
--                              Доработал структуру объектов. Реализовал регистрацию книги, layout'а, формирование стандартного layout
--                             Версия 0.2.0
--                              Добавил метода регистрации страниц и ролей
--                18.08.2014   Версия 0.3.0
--                              - сделать генератор метода обработки клиентских запросов
--                              - сделать генератор для создания объектов книги         
--                              - добавить регистрацию сервиса
--                19.08.2014   Версия 0.4.0
--                              Добавил функционал для работы с ресурсами (CSS, JS etc). Добавил формирование ссылок на ресурсы в дефолтный layout.
--                             Версия 0.5.0
--                              Добавил динамический вызов функций генерации HTML.
--                20.08.2014   Версия 0.6.0
--                              Отладил логику формирования контента страниц.
--                21.08.2014   Версия 0.7.0
--                              Добавил регистрацию callback-функций. Использование callback функций для регистрации функций фильтрации страниц роли.
--                22.08.2014   Версия 0.8.0
--                              Добавил объекты для регионов, тулбаров и их кнопок. Добавил методы регистрации тулбара.
--                22.08.2014   Версия 0.9.0
--                              Переписал формирование layout, добавил точку входа для новой версии (работа с регионами).
--                01.09.2014   Версия 0.10.0
--                              Добавил объект answer. Функции middleware
--                03.09.2014   Версия 0.11.0
--                              добавил анализ URL (API XXDOO_P2R). Сделал загрузку объектов по параметрам из URL. Доработал объект Answer.
--                04.09.2014   Версия 0.11.1
--                              рефакторинг кода. Добавил регистрацию методов condition и prepare для страниц
--                             Версия 0.12.0
--                              Сделал вызов методов condition и prepare для страниц. Подготовил все для вызова callback.
--                05.09.2014   Версия 0.13.0
--                              Реализовал регистрацию callback-методов, их вызов, обработку результатов.
--                              Переделал метод сохранения книги
--                             Версия 0.13.1
--                              Рефакторинг кода. Добавил скрипт создания прототипа.
--                             Версия 0.13.2
--                              Поднял версию API XXDOO_DB до 0.15.0 (динамическое определение типа при доступе к БД)
--                             Версия 0.14.0
--                              Добавил типы для создания универсальных хэш-списков (значения anydata). Заменил сигнатуру сервисов. Добавил автогенерацию path при ответе клиенту.
--                             Версия 0.15.0
--                              Реализовал использование объектов DAO для доступа к БД. Доработал механизм сохранения объектов книги и DAO в глобальных переменных, с контролем версии при обращении.
--                             Версия 0.16.0
--                              Добавил объект html-шаблон и методы работы с ним. Добавил формирование sidebar на основе шаблона.
--                             Версия 0.17.0
--                              Добавил возможность формирования html-шаблона на базе коллекции. Добавил формирование sidebar в прототип.
--                24.09.2014   Версия 0.18.0 Переход на версию 2.0 API XXDOO_DB
--                                    0.18.1 Устранил мелкие ошибки перехода на 2 версию XXDOO_DB
--                25.09.2014   Версия 0.19.0 Переписал интерфейс регистрации методов
--                26.09.2014   Версия 0.19.1 Рефакторинг объектных представлений  (представления были созданы первой версией XXDOO_DB)
--                26.09.2014   Версия 0.20.0 moved prepare method from role page to page
--                26.09.2014   Версия 0.21.0 Переписал интерфейс регистрации ролей, добавления в них страниц (с условиями вывода).
--                                           Сделал возможность назначения нескольких функций-фильтров на одну страницу.
--                             Версия 0.21.1 Добавил удаление из роли страниц, обработанных ранее, если их нет в текущей сеансе.
--                                           Поднял версию XXDOO_DB до 2.1.2 (в text добавлен метод get_clob)
--                             Версия 0.21.2 Добавил в role метод is_when, позволяющий задать фильтр для нескольких страниц
--                                           Исправил сигнатуру функций-фильтров страниц в прототипе.
--                             Версия 0.21.3 Добавил в role метод prepare, вызываемый сразу после инициализации answer
--                             Версия 0.21.4 Заменил реализацию универсального списка на xxdoo_db_list
--                             Версия 0.22.0 Разделил объект book на два: отдельно для создания книги и для ее обработки.
--                                           Добавил конструктор роли, загружающий ее из базы по имени.
--                                           В answer добавил массив для callback'ов (для одновременного вызова нескольких)
--                                           Перенес в answer процедуры refresh_regions и execute_callbacks. Упростил процедуру request.
--                             Версия 0.22.1 Добавил список параметров в описание роли + методы set и get. (параметры сохраняются вместе с описанием роли)
--                             Версия 0.23.0 Сделал единый объект answer. Перенес в него все вызовы внешних методов.
--                             Версия 0.23.1 Добавил в инсталлятор копирование ресурсных файлов: css и js
--                             Версия 0.23.2 Дописал js клиент для работы прототипа. Добавил логирования запросов от клиента. Исправил регистрацию callback.
--                             Версия 0.23.3 Реструктуризировал схему прототипа. Добавил скрипт для заполнения тестовыми данными.
--                             Версия 0.23.4 Поднял версию API XXDOO_DB до 2.3.5 (реализовано формирование дин.запроса).
--                07.10.2014   Версия 0.23.5 Поднял версию API XXDOO_DB до 2.3.7 (доработано формирование динам. запроса). Доработал обращение к DAO.
--                                           Сделал определение параметров сервиса при создании книги (нужно для корректного формирования ссылок на сервис при описании страниц).
--                08.10.2014   Версия 0.23.6 Исправил ошибку парсинга и сериализации параметра path.
--                                           Добавил в прототип страницу для ввода нового контрагента, добавил callback для добавления.
--                                           Добавил удаление кнопок тулбара.
--                                            Поднял версию API XXDOO_HTML до 3.1.4 (исправлена ошибка добавления пустых значений в результирующий clob).
--                08.10.2014   Версия 0.23.7 Доработал форму прототипа для ввода контрагента (внешний вид).
-----------------------------------------------------------------------------------------------------------

Установка расширения:

1. Скопировать файлы на сервер;
2. Выставить переменные окружения (например, EVDAY)
3. Запустить в текущей папке installext
4. Проверить протоколы на наличие ошибок.
